(this["webpackJsonpsense-hat-react"]=this["webpackJsonpsense-hat-react"]||[]).push([[0],{636:function(e,t,n){"use strict";n.r(t);var c=n(659),a=n(0),r=n(148),i=n.n(r),s=n(6),o=n(661),j=n(325),l=n(651),b=n(649),h=n(650),u=n(652),d=n(45),O=n(638),x=n(647),m=n(207),f=n(3),p=function(e){var t=Object(O.b)().toggleColorMode,n=Object(O.c)("dark","light"),c=Object(O.c)(m.a,m.b);return Object(f.jsx)(x.a,Object(d.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(f.jsx)(c,{})},e))},g=n(5),y=n(65),v=n.n(y),w=n(663),S=n.p+"static/media/spaceShip.ba63d907.svg",C="http://".concat(window.location.hostname,":5000"),I=function(){var e=Object(a.useState)({roll:0,pitch:0,yaw:0}),t=Object(g.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){console.log("connect to ",C);var e=v()(C);return e.on("imu",(function(e){c(e.data.orientation)})),function(){return e.disconnect()}}),[]),Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{my:"5",textAlign:"center",letterSpacing:".1em",children:"IMU Demo"}),Object(f.jsx)(l.a,{my:"5",justifyContent:"center",children:Object(f.jsx)(l.a,{justifyContent:"space-between",children:Object.keys(n).map((function(e,t){return Object(f.jsxs)(u.a,{mx:"2",children:[e,": ",n[e].toFixed(1)]},t)}))})}),Object(f.jsx)(l.a,{style:{transform:"rotate(".concat(n.pitch.toFixed(2),"deg)")},justifyContent:"center",height:"50vh",children:Object(f.jsx)(w.a,{src:S})})]})},k=n(27),E=n(331),A=n(653),M=n(320),z=n(49),U=n(319),_=n(129),F=n(657),D=n(332);function H(e){var t=e.data,n=e.plotKey,c=e.unit;return Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(l.a,{justifyContent:"center",children:[Object(f.jsxs)(h.a,{color:"blue.700",mx:"2",size:"md",children:[n.toUpperCase(),":"]}),Object(f.jsx)(h.a,{mx:"3",size:"md",color:"gray",children:t.length>10&&t.slice(-1)[0][n].toFixed(1)})]}),Object(f.jsx)(l.a,{justifyContent:"center",children:Object(f.jsxs)(A.a,{width:700,height:400,data:e.data,children:[Object(f.jsx)(M.a,{type:"number",unit:"",width:80,domain:["auto","auto"],children:Object(f.jsx)(z.a,{value:c,position:"insideLeft",angle:90})}),Object(f.jsx)(U.a,{dataKey:"name",children:Object(f.jsx)(z.a,{value:"Time",angle:0})}),Object(f.jsx)(_.a,{}),Object(f.jsx)(F.a,{stroke:"#f5f5f5"}),Object(f.jsx)(D.a,{type:"monotone",dataKey:e.plotKey,stroke:"#ffb14a",strokeWidth:3,yAxisId:0})]})})]})}var P=function(){var e=Object(a.useState)({roll:0,pitch:0,yaw:0}),t=Object(g.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(g.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)("roll"),u=Object(g.a)(j,2),d=u[0],O=u[1];Object(a.useEffect)((function(){var e=v()(C);return e.on("imu",(function(e){c(e.data.orientation)})),function(){return e.disconnect()}}),[]),Object(a.useEffect)((function(){o([].concat(Object(k.a)(s.slice(-50)),[n]))}),[n]);var x=function(e){O(e.target.name)};return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{my:"5",textAlign:"center",letterSpacing:".1em",children:"IMU Charts"}),Object(f.jsx)(H,{unit:"Degrees",data:s,plotKey:d}),Object(f.jsx)(l.a,{my:"7",justifyContent:"center",children:Object.keys(n).map((function(e,t){return Object(f.jsx)(E.a,{mx:"2",onClick:x,name:e,children:e.toUpperCase()},t)}))})]})},T=n(664),W=n.p+"static/media/raspi.c0f7c7bb.webp",G=n.p+"static/media/sensehat_axis.53ddbe1c.png",K=(n(512),n(662)),L=n(99),B=n.n(L),R=function(){var e=Object(a.useState)({text:"EW370",color:"#1bd5fa",speed:.08}),t=Object(g.a)(e,2),n=t[0],c=t[1],r=function(e){e&&e.preventDefault(),B.a.get(C+"/message",{params:n})},i=function(e){c(Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){var e=setInterval((function(){r(!1)}),5e3);return function(){return clearInterval(e)}}),[n]),Object(a.useEffect)((function(){console.log(n.color),c(Object(d.a)(Object(d.a)({},n),function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(n.color)))}),[n.color]),Object(f.jsxs)(b.a,{my:"2",children:[Object(f.jsx)(h.a,{size:"md",fontWeight:"300",textAlign:"center",children:"Send Text to Sense Hat"}),Object(f.jsx)(l.a,{my:"1",justifyContent:"center",children:Object(f.jsx)(l.a,{p:"5",bg:"gray.50",boxShadow:"lg",borderRadius:"md",children:Object(f.jsx)("form",{onSubmit:r,children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(K.a,{name:"text",value:n.text,onChange:i}),Object(f.jsx)(E.a,{type:"submit",colorScheme:"blue",children:"Send"}),Object(f.jsx)(l.a,{children:Object(f.jsx)(K.a,{border:"none",borderRadius:"lg",width:"100px",height:"40px",name:"color",type:"color",value:n.color,onChange:i})})]})})})})]})};function J(){return Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(b.a,{m:"10",children:[Object(f.jsx)(h.a,{my:"3",size:"md",children:"What is an IMU?"}),Object(f.jsx)(u.a,{my:"1",children:"IMU stands for Inertial Measurement Unit. It's actually three sensors in one:"}),Object(f.jsxs)(T.b,{children:[Object(f.jsx)(T.a,{children:"A gyroscope (measures momentum and rotation)"}),Object(f.jsx)(T.a,{children:"An accelerometer (measures acceleration forces and can be used to find the direction of gravity)"}),Object(f.jsx)(T.a,{children:"A magnetometer (measures the Earth's own magnetic field, so it's a bit like a compass)"})]})]}),Object(f.jsx)(l.a,{height:"50vh",justifyContent:"center",children:Object(f.jsx)(w.a,{src:W,objectFit:"scale-down"})}),Object(f.jsxs)(b.a,{m:"10",children:[Object(f.jsx)(h.a,{my:"3",size:"md",children:"How is orientation represented?"}),Object(f.jsx)(u.a,{my:"1",children:"The three axes are:"}),Object(f.jsxs)(T.b,{children:[Object(f.jsx)(T.a,{children:"Pitch (like a plane taking off)"}),Object(f.jsx)(T.a,{children:"Roll (the plane doing an aileron roll)"}),Object(f.jsx)(T.a,{children:"Yaw (imagine steering the plane like a car)"})]})]}),Object(f.jsx)(l.a,{height:"50vh",justifyContent:"center",children:Object(f.jsx)(w.a,{objectFit:"scale-down",src:G})}),Object(f.jsxs)(b.a,{m:"10",children:[Object(f.jsx)(h.a,{my:"3",size:"md",children:"How is acceleration represented?"}),Object(f.jsx)(u.a,{my:"1",children:"The three axes, (x,y,z) are shown above. The Sense Hat provides acceration scaled to Earth's Gravity. 1.0 Gs = 9.8 m/s^2"})]}),Object(f.jsx)(R,{})]})}var $=n(51),Y=n(28),q=n(328);function N(e){var t=Object(a.useRef)(),n=Object(a.useState)(!1),c=Object(g.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!1),o=Object(g.a)(s,2),j=o[0],l=o[1],b=Object(a.useState)({roll:0,pitch:0,yaw:0}),h=Object(g.a)(b,2),u=h[0],O=h[1];return Object(a.useEffect)((function(){console.log("connect to ",C);var e=v()(C);return e.on("imu",(function(e){O(e.data.orientation)})),function(){return e.disconnect()}}),[]),Object(f.jsxs)("mesh",Object(d.a)(Object(d.a)({},e),{},{ref:t,scale:j?1.5:2,onClick:function(e){return l(!j)},onPointerOver:function(e){return i(!0)},onPointerOut:function(e){return i(!1)},rotation:[-u.roll/180*Math.PI,-u.yaw/180*Math.PI,0],children:[Object(f.jsx)("boxGeometry",{args:[1,1,1]}),Object(f.jsx)("meshStandardMaterial",{color:r?"hotpink":"orange"})]}))}function Q(){return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(l.a,{justifyContent:"center",children:Object(f.jsx)(h.a,{my:"5",textAlign:"center",letterSpacing:".1em",children:"IMU Demo"})}),Object(f.jsxs)(q.a,{style:{width:"100vw",height:"95vh"},children:[Object(f.jsx)("ambientLight",{intensity:.5}),Object(f.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),Object(f.jsx)("pointLight",{position:[-10,-10,-10]}),Object(f.jsx)(N,{position:[0,1,0]})]})]})}var V=function(e){var t=e.data,n=Object(a.useState)(0),c=Object(g.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)([]),j=Object(g.a)(o,2),u=j[0],d=j[1],O=Object(a.useState)(t[0]),x=Object(g.a)(O,2),m=x[0],p=x[1];Object(a.useEffect)((function(){var e=setInterval((function(){B.a.get(C+"/"+m.name).then((function(e){console.log(e.data),i(Object(s.a)({},m.name,e.data))}))}),100);return function(){return clearInterval(e)}}),[m]),Object(a.useEffect)((function(){0!==r&&d([].concat(Object(k.a)(u.slice(-200)),[r]))}),[r]);return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{my:"5",textAlign:"center",letterSpacing:".1em",children:"Sense Hat Charts"}),Object(f.jsx)(H,{unit:m.unit,data:u,plotKey:m.name}),Object(f.jsx)(l.a,{my:"7",justifyContent:"center",children:t.map((function(e,n){return Object(f.jsx)(E.a,{mx:"2",onClick:function(){return function(e){p(t[e]),d([]),i(0)}(n)},name:e.name,children:e.name.toUpperCase()},n)}))})]})},X=function(){var e=Object(a.useState)({x:0,y:0,z:0}),t=Object(g.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(g.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)("x"),u=Object(g.a)(j,2),d=u[0],O=u[1];Object(a.useEffect)((function(){var e=setInterval((function(){B.a.get(C+"/accelerometer").then((function(e){console.log(e.data),c(e.data)}))}),100);return function(){return clearInterval(e)}}),[d]),Object(a.useEffect)((function(){o([].concat(Object(k.a)(s.slice(-50)),[n]))}),[n]);var x=function(e){O(e.target.name)};return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{my:"5",textAlign:"center",letterSpacing:".1em",children:"Accelerometer Charts"}),Object(f.jsx)(H,{unit:"G",data:s,plotKey:d}),Object(f.jsx)(l.a,{my:"7",justifyContent:"center",children:Object.keys(n).map((function(e,t){return Object(f.jsx)(E.a,{mx:"2",onClick:x,name:e,children:e.toUpperCase()},t)}))})]})};var Z=function(){var e;return Object(f.jsx)(o.a,{theme:j.theme,children:Object(f.jsxs)(l.a,{flexDir:"column",justifyContent:"space-between",minH:"100vh",minW:"100vw",children:[Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(l.a,{boxShadow:"lg",bg:"teal",alignItems:"center",justifyContent:"space-between",px:"5",py:"2",children:[Object(f.jsx)(b.a,{p:"2",children:Object(f.jsx)($.b,{to:"/",children:Object(f.jsx)(h.a,{color:"white",size:"lg",fontWeight:"200",letterSpacing:".1em",children:"Sense Hat Demo"})})}),Object(f.jsx)($.b,{to:"/",children:Object(f.jsx)(u.a,{color:"white",children:"Home"})}),Object(f.jsx)($.b,{to:"/spaceship",children:Object(f.jsx)(u.a,{color:"white",children:"Space Ship"})}),Object(f.jsx)($.b,{to:"/3d",children:Object(f.jsx)(u.a,{color:"white",children:"3D"})}),Object(f.jsx)($.b,{to:"/imu_graph",children:Object(f.jsx)(u.a,{color:"white",children:"IMU Graph"})}),Object(f.jsx)($.b,{to:"/tph_graph",children:Object(f.jsx)(u.a,{color:"white",children:"TPH Graph"})}),Object(f.jsx)($.b,{to:"/accel_graph",children:Object(f.jsx)(u.a,{color:"white",children:"Accel Graph"})}),Object(f.jsx)($.b,{to:"/send_text",children:Object(f.jsx)(u.a,{color:"white",children:"Send Text"})}),Object(f.jsx)(p,{})]}),Object(f.jsxs)(Y.c,{children:[Object(f.jsx)(Y.a,{exact:!0,path:"/",component:J}),Object(f.jsx)(Y.a,{exact:!0,path:"/spaceship",component:I}),Object(f.jsx)(Y.a,{exact:!0,path:"/imu_graph",component:P}),Object(f.jsx)(Y.a,{exact:!0,path:"/accel_graph",component:X}),Object(f.jsx)(Y.a,{exact:!0,path:"/3d",component:Q}),Object(f.jsx)(Y.a,{exact:!0,path:"/send_text",component:R}),Object(f.jsx)(Y.a,{exact:!0,path:"/tph_graph",render:function(){return Object(f.jsx)(V,{data:[{name:"temperature",value:75,unit:"Degrees Farenheit"},{name:"pressure",value:1022,unit:"mbar"},{name:"humidity",value:30,unit:"Percent (%)"}]})}}),Object(f.jsx)(Y.a,{exact:!0,path:"/temperature_graph",render:function(){return Object(f.jsx)(V,{name:"temperature",init:73})}}),Object(f.jsx)(Y.a,{exact:!0,path:"/humidity_graph",render:function(){return Object(f.jsx)(V,{name:"humidity",init:73})}})]})]}),Object(f.jsx)(l.a,(e={boxShadow:"lg",bg:"teal",alignItems:"center",justifyContent:"center",p:"2"},Object(s.a)(e,"boxShadow","lg"),Object(s.a)(e,"children",Object(f.jsx)(u.a,{fontWeight:"300",color:"white",textAlign:"center",children:"Created By Allan Elsberry"})),e))]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,665)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(a.StrictMode,{children:Object(f.jsxs)($.a,{children:[Object(f.jsx)(c.a,{}),Object(f.jsx)(Z,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ee()}},[[636,1,2]]]);
//# sourceMappingURL=main.6978317b.chunk.js.map